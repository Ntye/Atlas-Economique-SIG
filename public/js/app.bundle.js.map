{
  "version": 3,
  "sources": ["../../src/App.js", "../../src/services/api.js", "../../src/utils/helpers.js", "../../src/components/Search.js", "../../src/components/Header.js", "../../src/components/Charts.js", "../../src/components/ComparisonPanel.js", "../../src/components/Sidebar.js", "../../src/components/Map.js", "../../src/components/Legend.js", "../../src/components/Modal.js", "../../src/components/Footer.js", "../../src/components/KPIDashboard.js", "../../src/components/LoadingOverlay.js"],
  "sourcesContent": ["/**\r\n * Main Application\r\n * Coordinates all components and manages application state\r\n */\r\n\r\nimport { api } from './services/api.js';\r\nimport Header from './components/Header.js';\r\nimport Sidebar from './components/Sidebar.js';\r\nimport Map from './components/Map.js';\r\nimport Legend from './components/Legend.js';\r\nimport Modal from './components/Modal.js';\r\nimport Footer from './components/Footer.js';\r\nimport KPIDashboard from './components/KPIDashboard.js'; // Import added\r\nimport { LoadingOverlay, ErrorMessage } from './components/LoadingOverlay.js';\r\n\r\nclass App {\r\n  constructor() {\r\n    // Components\r\n    this.header = null;\r\n    this.sidebar = null;\r\n    this.map = null;\r\n    this.legend = null;\r\n    this.modal = null;\r\n    this.footer = null;\r\n    this.kpiDashboard = null; // Added KPI component\r\n    this.loadingOverlay = null;\r\n    this.errorMessage = null;\r\n\r\n    // State\r\n    this.currentTheme = 'tous';\r\n    this.currentRegion = 'all';\r\n    this.isSidebarOpen = true;\r\n  }\r\n\r\n  /**\r\n   * Initialize the application\r\n   */\r\n  async init() {\r\n    console.log('Initializing Atlas \u00C9conomique du Cameroun...');\r\n\r\n    // Show loading\r\n    this.initLoadingOverlay();\r\n    this.loadingOverlay.show('Chargement de l\\'application...');\r\n\r\n    try {\r\n      // Check API health\r\n      await api.healthCheck();\r\n\r\n      // Initialize all components\r\n      await this.initComponents();\r\n\r\n      // Setup event handlers\r\n      this.setupEventHandlers();\r\n\r\n      // Hide loading\r\n      this.loadingOverlay.hide();\r\n\r\n      console.log('Application initialized successfully');\r\n    } catch (error) {\r\n      console.error('Application init error:', error);\r\n      this.loadingOverlay.hide();\r\n      this.showError('Impossible de charger l\\'application. V\u00E9rifiez que le serveur est d\u00E9marr\u00E9.');\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Initialize loading overlay first\r\n   */\r\n  initLoadingOverlay() {\r\n    this.loadingOverlay = new LoadingOverlay('loading-overlay');\r\n    this.loadingOverlay.init();\r\n\r\n    this.errorMessage = new ErrorMessage('error-message');\r\n    this.errorMessage.init();\r\n    this.errorMessage.onRetry = () => this.retry();\r\n  }\r\n\r\n  /**\r\n   * Initialize all components\r\n   */\r\n  async initComponents() {\r\n    // 1. Header (with search)\r\n    this.header = new Header('header');\r\n    this.header.onThemeChange = (theme) => this.handleThemeChange(theme);\r\n    this.header.onMenuToggle = () => this.toggleSidebar();\r\n    this.header.onSearchSelect = (result) => this.handleSearchSelect(result);\r\n    await this.header.init();\r\n\r\n    // 2. Sidebar (Filters & Controls)\r\n    this.sidebar = new Sidebar('sidebar');\r\n\r\n    // Connect Sidebar events to update KPIs and Map\r\n    this.sidebar.onRegionChange = (regions) => {\r\n      this.handleRegionChange(regions);\r\n      // Update KPIs when region changes\r\n      if (this.kpiDashboard) {\r\n        this.kpiDashboard.update({ regions: regions.length > 0 ? regions : null });\r\n      }\r\n    };\r\n\r\n    this.sidebar.onDepartementChange = (depts) => this.handleDeptChange(depts);\r\n\r\n    this.sidebar.onFiltersApply = (filters) => {\r\n      this.handleFiltersApply(filters);\r\n      // Update KPIs when detailed filters are applied\r\n      if (this.kpiDashboard) {\r\n        this.kpiDashboard.update(filters);\r\n      }\r\n    };\r\n\r\n    this.sidebar.onFiltersReset = () => {\r\n      this.handleFiltersReset();\r\n      // Reset KPIs\r\n      if (this.kpiDashboard) {\r\n        this.kpiDashboard.update({});\r\n      }\r\n    };\r\n\r\n    await this.sidebar.init();\r\n\r\n    // 3. KPI Dashboard (Now horizontal bar)\r\n    this.kpiDashboard = new KPIDashboard('kpi-container');\r\n    await this.kpiDashboard.init();\r\n\r\n    // 4. Map\r\n    this.map = new Map('map');\r\n    this.map.onFeatureClick = (props) => this.handleFeatureClick(props);\r\n    await this.map.init();\r\n\r\n    // 5. Legend\r\n    this.legend = new Legend('legend');\r\n    await this.legend.init();\r\n\r\n    // 6. Modal\r\n    this.modal = new Modal('modal');\r\n    this.modal.onAddToComparison = (data) => this.handleAddToComparison(data);\r\n    this.modal.init();\r\n\r\n    // 7. Footer\r\n    this.footer = new Footer('footer');\r\n    await this.footer.init();\r\n\r\n    // Connect comparison panel to modal\r\n    if (this.sidebar.comparisonPanel) {\r\n      this.sidebar.comparisonPanel.onCompare = (data) => {\r\n        this.modal.showComparison(data);\r\n      };\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Setup global event handlers\r\n   */\r\n  setupEventHandlers() {\r\n    // Keyboard shortcuts\r\n    document.addEventListener('keydown', (e) => {\r\n      // Escape to close modal\r\n      if (e.key === 'Escape') {\r\n        if (this.modal && this.modal.isOpen) {\r\n          this.modal.close();\r\n        }\r\n      }\r\n\r\n      // Ctrl+F for search focus\r\n      if (e.ctrlKey && e.key === 'f') {\r\n        e.preventDefault();\r\n        const searchInput = document.getElementById('search-input');\r\n        if (searchInput) {\r\n          searchInput.focus();\r\n        }\r\n      }\r\n    });\r\n\r\n    // Window resize\r\n    window.addEventListener('resize', () => {\r\n      if (this.map) {\r\n        this.map.invalidateSize();\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Handle theme change\r\n   */\r\n  handleThemeChange(theme) {\r\n    this.currentTheme = theme;\r\n\r\n    // Update map\r\n    this.map.setTheme(theme);\r\n\r\n    // Update legend\r\n    this.legend.update(theme);\r\n\r\n    // Update charts\r\n    if (theme !== 'tous' && this.sidebar.charts) {\r\n      this.sidebar.charts.update(theme);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Handle region change (multiple regions)\r\n   */\r\n  handleRegionChange(regions) {\r\n    this.currentRegion = regions.length > 0 ? regions : 'all';\r\n\r\n    if (!regions || regions.length === 0) {\r\n      this.map.displayRegions(this.currentTheme);\r\n    } else {\r\n      this.map.setSelectedRegions(regions);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Handle department change (multiple departments)\r\n   */\r\n  handleDeptChange(depts) {\r\n    if (depts && depts.length > 0) {\r\n      this.map.setSelectedDepts(depts);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Handle filters apply\r\n   */\r\n  handleFiltersApply(filters) {\r\n    // Apply all filters to map\r\n    this.map.applyFilters(filters);\r\n\r\n    // Update theme if produit is selected\r\n    if (filters.produit && filters.produit !== 'all') {\r\n      this.currentTheme = filters.produit;\r\n      this.header.setTheme(filters.produit);\r\n      this.legend.update(filters.produit);\r\n    } else if (filters.secteur && filters.secteur !== 'all') {\r\n      // Show secteur-based legend\r\n      this.currentTheme = 'tous';\r\n      this.legend.updateForSecteur(filters.secteur);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Handle filters reset\r\n   */\r\n  handleFiltersReset() {\r\n    this.currentTheme = 'tous';\r\n    this.currentRegion = 'all';\r\n\r\n    this.header.setTheme('tous');\r\n    this.map.resetView();\r\n    this.legend.update('tous');\r\n  }\r\n\r\n  /**\r\n   * Handle search result selection\r\n   */\r\n  handleSearchSelect(result) {\r\n    if (result.type === 'region') {\r\n      this.sidebar.setRegion(result.nom);\r\n    } else {\r\n      // First set the parent region, then the department\r\n      this.sidebar.setRegion(result.region_parente);\r\n      setTimeout(() => {\r\n        this.sidebar.setDepartement(result.nom);\r\n      }, 100);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Handle feature click on map\r\n   */\r\n  handleFeatureClick(properties) {\r\n    this.modal.show(properties);\r\n  }\r\n\r\n  /**\r\n   * Handle add to comparison\r\n   */\r\n  handleAddToComparison(data) {\r\n    if (this.sidebar.comparisonPanel) {\r\n      this.sidebar.comparisonPanel.add({\r\n        nom: data.nom,\r\n        type: data.type\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Toggle sidebar\r\n   */\r\n  toggleSidebar() {\r\n    this.isSidebarOpen = this.sidebar.toggle();\r\n\r\n    // Get all layout containers\r\n    const mapContainer = document.getElementById('map-container');\r\n    const footer = document.getElementById('footer');\r\n    const kpiContainer = document.getElementById('kpi-container');\r\n\r\n    if (!this.isSidebarOpen) {\r\n      // Sidebar closed - Expand everything\r\n      if (mapContainer) mapContainer.classList.add('map-container--full');\r\n      if (footer) footer.classList.add('footer--full');\r\n      if (kpiContainer) kpiContainer.classList.add('kpi-container--full');\r\n    } else {\r\n      // Sidebar open - Shrink back\r\n      if (mapContainer) mapContainer.classList.remove('map-container--full');\r\n      if (footer) footer.classList.remove('footer--full');\r\n      if (kpiContainer) kpiContainer.classList.remove('kpi-container--full');\r\n    }\r\n\r\n    // Invalidate map size after transition\r\n    setTimeout(() => {\r\n      this.map.invalidateSize();\r\n    }, 350);\r\n  }\r\n\r\n  /**\r\n   * Show error message\r\n   */\r\n  showError(message) {\r\n    this.errorMessage.show(message);\r\n  }\r\n\r\n  /**\r\n   * Hide error message\r\n   */\r\n  hideError() {\r\n    this.errorMessage.hide();\r\n  }\r\n\r\n  /**\r\n   * Retry loading\r\n   */\r\n  async retry() {\r\n    this.hideError();\r\n    await this.init();\r\n  }\r\n}\r\n\r\n// Export App class\r\nexport default App;\r\n\r\n// Auto-initialize when DOM is ready\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n  const app = new App();\r\n  app.init();\r\n\r\n  // Expose app to window for debugging\r\n  window.app = app;\r\n});", "/**\r\n * API Service - Handles all API calls to the backend\r\n */\r\n\r\nconst API_BASE = 'http://localhost:3000/api';\r\n\r\nclass ApiService {\r\n  /**\r\n   * Generic fetch wrapper with error handling\r\n   */\r\n  async fetch(endpoint, options = {}) {\r\n    try {\r\n      const response = await fetch(`${API_BASE}${endpoint}`, {\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          ...options.headers\r\n        },\r\n        ...options\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP error! status: ${response.status}`);\r\n      }\r\n\r\n      return await response.json();\r\n    } catch (error) {\r\n      console.error(`API Error [${endpoint}]:`, error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  // =====================\r\n  // MAP ENDPOINTS\r\n  // =====================\r\n\r\n  async getRegions() {\r\n    return this.fetch('/regions');\r\n  }\r\n\r\n  async getDepartements(region = null) {\r\n    const query = region ? `?region=${encodeURIComponent(region)}` : '';\r\n    return this.fetch(`/departements${query}`);\r\n  }\r\n\r\n  // =====================\r\n  // FILTER ENDPOINTS\r\n  // =====================\r\n\r\n  async getFilters() {\r\n    return this.fetch('/filters');\r\n  }\r\n\r\n  // =====================\r\n  // KPI ENDPOINTS\r\n  // =====================\r\n\r\n  async getKPIs(filters = {}) {\r\n    const params = new URLSearchParams();\r\n    if (filters.region) params.append('region', filters.region);\r\n    if (filters.secteur) params.append('secteur', filters.secteur);\r\n    if (filters.produit) params.append('produit', filters.produit);\r\n\r\n    const query = params.toString() ? `?${params.toString()}` : '';\r\n    return this.fetch(`/kpis${query}`);\r\n  }\r\n\r\n  // =====================\r\n  // CHART ENDPOINTS\r\n  // =====================\r\n\r\n  async getTop10Producers(produit = 'cacao') {\r\n    return this.fetch(`/charts/top10/${produit}`);\r\n  }\r\n\r\n  async getProductionByRegion(secteur = 'agriculture') {\r\n    return this.fetch(`/charts/byregion/${secteur}`);\r\n  }\r\n\r\n  async getProductDistribution(region = null) {\r\n    const query = region ? `?region=${encodeURIComponent(region)}` : '';\r\n    return this.fetch(`/charts/distribution${query}`);\r\n  }\r\n\r\n  async getHistoricalData(secteur = 'all') {\r\n    return this.fetch(`/charts/historical/${secteur}`);\r\n  }\r\n\r\n  // =====================\r\n  // DETAIL ENDPOINTS\r\n  // =====================\r\n\r\n  async getRegionDetails(nom) {\r\n    return this.fetch(`/regions/${encodeURIComponent(nom)}`);\r\n  }\r\n\r\n  async getDepartementDetails(nom) {\r\n    return this.fetch(`/departements/${encodeURIComponent(nom)}`);\r\n  }\r\n\r\n  // =====================\r\n  // LEGEND ENDPOINT\r\n  // =====================\r\n\r\n  async getLegend(theme = 'tous') {\r\n    return this.fetch(`/legend/${theme}`);\r\n  }\r\n\r\n  // =====================\r\n  // SEARCH ENDPOINT\r\n  // =====================\r\n\r\n  async search(query) {\r\n    return this.fetch(`/search?q=${encodeURIComponent(query)}`);\r\n  }\r\n\r\n  // =====================\r\n  // HEADER/FOOTER ENDPOINTS\r\n  // =====================\r\n\r\n  async getHeader() {\r\n    return this.fetch('/header');\r\n  }\r\n\r\n  async getFooter() {\r\n    return this.fetch('/footer');\r\n  }\r\n\r\n  async getMessages() {\r\n    return this.fetch('/messages');\r\n  }\r\n\r\n  // =====================\r\n  // COMPARISON ENDPOINT\r\n  // =====================\r\n\r\n  async compare(ids, type = 'departement') {\r\n    return this.fetch('/compare', {\r\n      method: 'POST',\r\n      body: JSON.stringify({ ids, type })\r\n    });\r\n  }\r\n\r\n  // =====================\r\n  // HEALTH CHECK\r\n  // =====================\r\n\r\n  async healthCheck() {\r\n    return this.fetch('/health');\r\n  }\r\n}\r\n\r\n// Export singleton instance\r\nexport const api = new ApiService();\r\nexport default api;\r\n", "/**\r\n * Utility Helper Functions\r\n */\r\n\r\n/**\r\n * Format large numbers with K, M, Mrd suffixes\r\n * @param {number} num - Number to format\r\n * @returns {string} Formatted number string\r\n */\r\nexport function formatNumber(num) {\r\n  if (num === undefined || num === null) return '0';\r\n  if (num >= 1000000000) return (num / 1000000000).toFixed(1) + ' Mrd';\r\n  if (num >= 1000000) return (num / 1000000).toFixed(1) + ' M';\r\n  if (num >= 1000) return (num / 1000).toFixed(1) + ' K';\r\n  return num.toString();\r\n}\r\n\r\n/**\r\n * Format currency in FCFA\r\n * @param {number} amount - Amount to format\r\n * @returns {string} Formatted currency string\r\n */\r\nexport function formatCurrency(amount) {\r\n  return formatNumber(amount) + ' FCFA';\r\n}\r\n\r\n/**\r\n * Debounce function to limit function calls\r\n * @param {Function} func - Function to debounce\r\n * @param {number} wait - Wait time in milliseconds\r\n * @returns {Function} Debounced function\r\n */\r\nexport function debounce(func, wait = 300) {\r\n  let timeout;\r\n  return function executedFunction(...args) {\r\n    const later = () => {\r\n      clearTimeout(timeout);\r\n      func(...args);\r\n    };\r\n    clearTimeout(timeout);\r\n    timeout = setTimeout(later, wait);\r\n  };\r\n}\r\n\r\n/**\r\n * Throttle function to limit function calls\r\n * @param {Function} func - Function to throttle\r\n * @param {number} limit - Minimum time between calls in milliseconds\r\n * @returns {Function} Throttled function\r\n */\r\nexport function throttle(func, limit = 100) {\r\n  let inThrottle;\r\n  return function executedFunction(...args) {\r\n    if (!inThrottle) {\r\n      func(...args);\r\n      inThrottle = true;\r\n      setTimeout(() => (inThrottle = false), limit);\r\n    }\r\n  };\r\n}\r\n\r\n/**\r\n * Highlight search matches in text\r\n * @param {string} text - Original text\r\n * @param {string} query - Search query\r\n * @returns {string} HTML string with highlighted matches\r\n */\r\nexport function highlightMatch(text, query) {\r\n  if (!query) return text;\r\n  const regex = new RegExp(`(${escapeRegex(query)})`, 'gi');\r\n  return text.replace(regex, '<span class=\"highlight\">$1</span>');\r\n}\r\n\r\n/**\r\n * Escape special regex characters\r\n * @param {string} string - String to escape\r\n * @returns {string} Escaped string\r\n */\r\nexport function escapeRegex(string) {\r\n  return string.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\r\n}\r\n\r\n/**\r\n * Deep clone an object\r\n * @param {Object} obj - Object to clone\r\n * @returns {Object} Cloned object\r\n */\r\nexport function deepClone(obj) {\r\n  return JSON.parse(JSON.stringify(obj));\r\n}\r\n\r\n/**\r\n * Check if object is empty\r\n * @param {Object} obj - Object to check\r\n * @returns {boolean} True if empty\r\n */\r\nexport function isEmpty(obj) {\r\n  return Object.keys(obj).length === 0;\r\n}\r\n\r\n/**\r\n * Get color for production value based on theme\r\n * @param {string} theme - Theme name\r\n * @param {number} value - Production value\r\n * @returns {Object} Style object with fillColor and fillOpacity\r\n */\r\nexport function getProductionColor(theme, value) {\r\n  const colorScales = {\r\n    cacao: [\r\n      { max: 0, color: '#ccc', opacity: 0.3 },\r\n      { max: 50000, color: '#A1887F', opacity: 0.7 },\r\n      { max: 100000, color: '#795548', opacity: 0.7 },\r\n      { max: Infinity, color: '#4E342E', opacity: 0.8 }\r\n    ],\r\n    bovins: [\r\n      { max: 0, color: '#ccc', opacity: 0.3 },\r\n      { max: 100000, color: '#FFB74D', opacity: 0.7 },\r\n      { max: 500000, color: '#FF9800', opacity: 0.7 },\r\n      { max: Infinity, color: '#E65100', opacity: 0.8 }\r\n    ],\r\n    coton: [\r\n      { max: 0, color: '#ccc', opacity: 0.3 },\r\n      { max: 100000, color: '#90CAF9', opacity: 0.7 },\r\n      { max: 200000, color: '#42A5F5', opacity: 0.7 },\r\n      { max: Infinity, color: '#1565C0', opacity: 0.8 }\r\n    ],\r\n    cafe: [\r\n      { max: 0, color: '#ccc', opacity: 0.3 },\r\n      { max: 10000, color: '#8D6E63', opacity: 0.7 },\r\n      { max: 30000, color: '#6D4C41', opacity: 0.7 },\r\n      { max: Infinity, color: '#4E342E', opacity: 0.8 }\r\n    ],\r\n    peche: [\r\n      { max: 0, color: '#ccc', opacity: 0.3 },\r\n      { max: 50000, color: '#B3E5FC', opacity: 0.7 },\r\n      { max: 100000, color: '#4FC3F7', opacity: 0.7 },\r\n      { max: Infinity, color: '#0288D1', opacity: 0.8 }\r\n    ],\r\n    default: [\r\n      { max: 0, color: '#ccc', opacity: 0.3 },\r\n      { max: 50000, color: '#81C784', opacity: 0.7 },\r\n      { max: 100000, color: '#4CAF50', opacity: 0.7 },\r\n      { max: Infinity, color: '#1B5E20', opacity: 0.8 }\r\n    ]\r\n  };\r\n\r\n  const scale = colorScales[theme] || colorScales.default;\r\n\r\n  for (const level of scale) {\r\n    if (value <= level.max) {\r\n      return { fillColor: level.color, fillOpacity: level.opacity };\r\n    }\r\n  }\r\n\r\n  return { fillColor: '#ccc', fillOpacity: 0.3 };\r\n}\r\n\r\n/**\r\n * Generate unique ID\r\n * @returns {string} Unique ID\r\n */\r\nexport function generateId() {\r\n  return Math.random().toString(36).substr(2, 9);\r\n}\r\n\r\n/**\r\n * Capitalize first letter of string\r\n * @param {string} str - String to capitalize\r\n * @returns {string} Capitalized string\r\n */\r\nexport function capitalize(str) {\r\n  if (!str) return '';\r\n  return str.charAt(0).toUpperCase() + str.slice(1);\r\n}\r\n\r\nexport default {\r\n  formatNumber,\r\n  formatCurrency,\r\n  debounce,\r\n  throttle,\r\n  highlightMatch,\r\n  escapeRegex,\r\n  deepClone,\r\n  isEmpty,\r\n  getProductionColor,\r\n  generateId,\r\n  capitalize\r\n};\r\n", "/**\r\n * Search Component\r\n * Provides location search functionality\r\n */\r\n\r\nimport { api } from '../services/api.js';\r\nimport { debounce, highlightMatch } from '../utils/helpers.js';\r\n\r\nclass Search {\r\n  constructor(containerId) {\r\n    this.container = document.getElementById(containerId);\r\n    this.results = [];\r\n    this.isResultsVisible = false;\r\n\r\n    // Callbacks\r\n    this.onSelect = null;\r\n\r\n    // Debounced search\r\n    this.debouncedSearch = debounce(this.performSearch.bind(this), 300);\r\n  }\r\n\r\n  /**\r\n   * Initialize the search component\r\n   */\r\n  init() {\r\n    this.render();\r\n    this.attachEventListeners();\r\n  }\r\n\r\n  /**\r\n   * Render the search HTML\r\n   */\r\n  render() {\r\n    if (!this.container) return;\r\n\r\n    this.container.innerHTML = `\r\n      <div class=\"search\">\r\n        <input\r\n          type=\"text\"\r\n          id=\"search-input\"\r\n          class=\"search__input\"\r\n          placeholder=\"Rechercher une r\u00E9gion ou d\u00E9partement...\"\r\n          autocomplete=\"off\"\r\n        >\r\n        <div id=\"search-results\" class=\"search__results\"></div>\r\n      </div>\r\n    `;\r\n  }\r\n\r\n  /**\r\n   * Attach event listeners\r\n   */\r\n  attachEventListeners() {\r\n    const input = document.getElementById('search-input');\r\n    const resultsContainer = document.getElementById('search-results');\r\n\r\n    if (input) {\r\n      input.addEventListener('input', (e) => {\r\n        this.debouncedSearch(e.target.value);\r\n      });\r\n\r\n      input.addEventListener('focus', () => {\r\n        if (this.results.length > 0) {\r\n          this.showResults();\r\n        }\r\n      });\r\n\r\n      input.addEventListener('blur', () => {\r\n        // Delay hiding to allow click on results\r\n        setTimeout(() => this.hideResults(), 200);\r\n      });\r\n\r\n      input.addEventListener('keydown', (e) => {\r\n        if (e.key === 'Escape') {\r\n          this.hideResults();\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Perform search API call\r\n   */\r\n  async performSearch(query) {\r\n    if (!query || query.length < 2) {\r\n      this.hideResults();\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const data = await api.search(query);\r\n      this.results = data.results || [];\r\n      this.renderResults(query);\r\n    } catch (error) {\r\n      console.error('Search error:', error);\r\n      this.renderError();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Render search results\r\n   */\r\n  renderResults(query) {\r\n    const container = document.getElementById('search-results');\r\n    if (!container) return;\r\n\r\n    if (this.results.length === 0) {\r\n      container.innerHTML = `\r\n        <div class=\"search__no-results\">\r\n          Aucun r\u00E9sultat trouv\u00E9 pour \"${query}\"\r\n        </div>\r\n      `;\r\n    } else {\r\n      container.innerHTML = this.results.map((result, index) => `\r\n        <div class=\"search__result-item\" data-index=\"${index}\">\r\n          <span class=\"search__result-badge\">\r\n            ${result.type === 'region' ? 'R\u00E9gion' : 'Dept'}\r\n          </span>\r\n          <span class=\"search__result-name\">\r\n            ${highlightMatch(result.nom, query)}\r\n          </span>\r\n          ${result.region_parente ? `\r\n            <small class=\"search__result-parent\">(${result.region_parente})</small>\r\n          ` : ''}\r\n        </div>\r\n      `).join('');\r\n\r\n      // Attach click handlers to results\r\n      container.querySelectorAll('.search__result-item').forEach(item => {\r\n        item.addEventListener('click', () => {\r\n          const index = parseInt(item.dataset.index);\r\n          this.selectResult(this.results[index]);\r\n        });\r\n      });\r\n    }\r\n\r\n    this.showResults();\r\n  }\r\n\r\n  /**\r\n   * Render error state\r\n   */\r\n  renderError() {\r\n    const container = document.getElementById('search-results');\r\n    if (!container) return;\r\n\r\n    container.innerHTML = `\r\n      <div class=\"search__no-results\">\r\n        Erreur lors de la recherche\r\n      </div>\r\n    `;\r\n\r\n    this.showResults();\r\n  }\r\n\r\n  /**\r\n   * Select a search result\r\n   */\r\n  selectResult(result) {\r\n    const input = document.getElementById('search-input');\r\n    if (input) {\r\n      input.value = result.nom;\r\n    }\r\n\r\n    this.hideResults();\r\n\r\n    if (this.onSelect) {\r\n      this.onSelect(result);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Show results dropdown\r\n   */\r\n  showResults() {\r\n    const container = document.getElementById('search-results');\r\n    if (container) {\r\n      container.classList.add('search__results--active');\r\n      this.isResultsVisible = true;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Hide results dropdown\r\n   */\r\n  hideResults() {\r\n    const container = document.getElementById('search-results');\r\n    if (container) {\r\n      container.classList.remove('search__results--active');\r\n      this.isResultsVisible = false;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Clear search input\r\n   */\r\n  clear() {\r\n    const input = document.getElementById('search-input');\r\n    if (input) {\r\n      input.value = '';\r\n    }\r\n    this.results = [];\r\n    this.hideResults();\r\n  }\r\n}\r\n\r\nexport default Search;\r\n", "/**\r\n * Header Component\r\n * Displays the application header with title, search, theme selector, and controls\r\n */\r\n\r\nimport { api } from '../services/api.js';\r\nimport Search from './Search.js';\r\n\r\nclass Header {\r\n  constructor(containerId) {\r\n    this.container = document.getElementById(containerId);\r\n    this.data = null;\r\n    this.search = null;\r\n    this.onThemeChange = null;\r\n    this.onMenuToggle = null;\r\n    this.onSearchSelect = null;\r\n  }\r\n\r\n  /**\r\n   * Initialize the header component\r\n   */\r\n  async init() {\r\n    try {\r\n      this.data = await api.getHeader();\r\n      this.render();\r\n      this.attachEventListeners();\r\n    } catch (error) {\r\n      console.error('Header init error:', error);\r\n      this.renderFallback();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Render the header HTML\r\n   */\r\n  render() {\r\n    if (!this.container) return;\r\n\r\n    this.container.innerHTML = `\r\n      <div class=\"header__logo\">\r\n        <button class=\"header__menu-btn\" id=\"menu-toggle\">&#9776;</button>\r\n        <div>\r\n          <h1 class=\"header__title\">${this.data.titre}</h1>\r\n          <div class=\"header__tagline\">${this.data.sousTitre}</div>\r\n        </div>\r\n      </div>\r\n      <div class=\"header__search\" id=\"header-search-container\"></div>\r\n      <div class=\"header__controls\">\r\n        <select class=\"header__select\" id=\"theme-selector\">\r\n          ${this.data.themes.map(t => `\r\n            <option value=\"${t.id}\">${t.label}</option>\r\n          `).join('')}\r\n        </select>\r\n        <button class=\"header__button\" id=\"help-btn\">? Aide</button>\r\n      </div>\r\n    `;\r\n\r\n    this.container.classList.add('header');\r\n\r\n    // Initialize search component\r\n    this.search = new Search('header-search-container');\r\n    this.search.onSelect = (result) => {\r\n      if (this.onSearchSelect) {\r\n        this.onSearchSelect(result);\r\n      }\r\n    };\r\n    this.search.init();\r\n  }\r\n\r\n  /**\r\n   * Render fallback if data fails to load\r\n   */\r\n  renderFallback() {\r\n    if (!this.container) return;\r\n\r\n    this.container.innerHTML = `\r\n      <div class=\"header__logo\">\r\n        <button class=\"header__menu-btn\" id=\"menu-toggle\">&#9776;</button>\r\n        <div>\r\n          <h1 class=\"header__title\">Atlas \u00C9conomique du Cameroun</h1>\r\n          <div class=\"header__tagline\">Visualisation des productions</div>\r\n        </div>\r\n      </div>\r\n      <div class=\"header__search\" id=\"header-search-container\"></div>\r\n      <div class=\"header__controls\">\r\n        <select class=\"header__select\" id=\"theme-selector\">\r\n          <option value=\"tous\">Vue Administrative</option>\r\n          <option value=\"cacao\">Cacao</option>\r\n          <option value=\"bovins\">Bovins</option>\r\n        </select>\r\n      </div>\r\n    `;\r\n\r\n    this.container.classList.add('header');\r\n\r\n    // Initialize search component\r\n    this.search = new Search('header-search-container');\r\n    this.search.onSelect = (result) => {\r\n      if (this.onSearchSelect) {\r\n        this.onSearchSelect(result);\r\n      }\r\n    };\r\n    this.search.init();\r\n  }\r\n\r\n  /**\r\n   * Attach event listeners\r\n   */\r\n  attachEventListeners() {\r\n    const themeSelector = document.getElementById('theme-selector');\r\n    const menuToggle = document.getElementById('menu-toggle');\r\n    const helpBtn = document.getElementById('help-btn');\r\n\r\n    if (themeSelector) {\r\n      themeSelector.addEventListener('change', (e) => {\r\n        if (this.onThemeChange) {\r\n          this.onThemeChange(e.target.value);\r\n        }\r\n      });\r\n    }\r\n\r\n    if (menuToggle) {\r\n      menuToggle.addEventListener('click', () => {\r\n        if (this.onMenuToggle) {\r\n          this.onMenuToggle();\r\n        }\r\n      });\r\n    }\r\n\r\n    if (helpBtn) {\r\n      helpBtn.addEventListener('click', () => this.showHelp());\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Show help dialog\r\n   */\r\n  showHelp() {\r\n    alert(`${this.data?.titre || 'Atlas \u00C9conomique du Cameroun'}\\n\\n` +\r\n      '\u2022 Utilisez les filtres pour explorer les donn\u00E9es\\n' +\r\n      '\u2022 Cliquez sur une r\u00E9gion/d\u00E9partement pour voir les d\u00E9tails\\n' +\r\n      '\u2022 Changez de th\u00E8me pour visualiser diff\u00E9rentes productions\\n' +\r\n      '\u2022 Utilisez la recherche pour trouver rapidement un lieu');\r\n  }\r\n\r\n  /**\r\n   * Set the current theme value in the selector\r\n   */\r\n  setTheme(theme) {\r\n    const selector = document.getElementById('theme-selector');\r\n    if (selector) {\r\n      selector.value = theme;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get available themes\r\n   */\r\n  getThemes() {\r\n    return this.data?.themes || [];\r\n  }\r\n}\r\n\r\nexport default Header;\r\n", "/**\r\n * Charts Component\r\n * Displays bar chart and pie chart using Chart.js\r\n */\r\n\r\nimport { api } from '../services/api.js';\r\nimport { formatNumber } from '../utils/helpers.js';\r\n\r\nclass Charts {\r\n  constructor(containerId) {\r\n    this.container = document.getElementById(containerId);\r\n    this.chartTop10 = null;\r\n    this.chartPie = null;\r\n    this.currentProduit = 'cacao';\r\n\r\n    // Chart colors\r\n    this.colors = [\r\n      '#3498db', '#2ecc71', '#e74c3c', '#f39c12', '#9b59b6',\r\n      '#1abc9c', '#e67e22', '#34495e', '#16a085', '#c0392b'\r\n    ];\r\n  }\r\n\r\n  /**\r\n   * Initialize charts\r\n   */\r\n  async init() {\r\n    this.render();\r\n    await this.loadData();\r\n  }\r\n\r\n  /**\r\n   * Render chart containers\r\n   */\r\n  render() {\r\n    if (!this.container) return;\r\n\r\n    this.container.innerHTML = `\r\n      <div class=\"chart-container\">\r\n        <h4 class=\"chart-container__title\">Top Producteurs</h4>\r\n        <canvas id=\"chart-top10\" class=\"chart-container__canvas\"></canvas>\r\n      </div>\r\n      <div class=\"chart-container\">\r\n        <h4 class=\"chart-container__title\">R\u00E9partition par R\u00E9gion</h4>\r\n        <canvas id=\"chart-pie\" class=\"chart-container__canvas\"></canvas>\r\n      </div>\r\n    `;\r\n  }\r\n\r\n  /**\r\n   * Load chart data\r\n   */\r\n  async loadData(produit = 'cacao') {\r\n    this.currentProduit = produit;\r\n\r\n    try {\r\n      const [top10Data, pieData] = await Promise.all([\r\n        api.getTop10Producers(produit),\r\n        api.getProductionByRegion('agriculture')\r\n      ]);\r\n\r\n      this.renderTop10Chart(top10Data);\r\n      this.renderPieChart(pieData);\r\n    } catch (error) {\r\n      console.error('Charts load error:', error);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Update charts with new product\r\n   */\r\n  async update(produit) {\r\n    await this.loadData(produit);\r\n  }\r\n\r\n  /**\r\n   * Render Top 10 bar chart\r\n   */\r\n  renderTop10Chart(data) {\r\n    const ctx = document.getElementById('chart-top10');\r\n    if (!ctx) return;\r\n\r\n    // Destroy existing chart\r\n    if (this.chartTop10) {\r\n      this.chartTop10.destroy();\r\n    }\r\n\r\n    this.chartTop10 = new Chart(ctx.getContext('2d'), {\r\n      type: 'bar',\r\n      data: {\r\n        labels: data.data.map(d => d.nom),\r\n        datasets: [{\r\n          label: data.produit,\r\n          data: data.data.map(d => d.valeur),\r\n          backgroundColor: '#3498db',\r\n          borderRadius: 4\r\n        }]\r\n      },\r\n      options: {\r\n        indexAxis: 'y',\r\n        responsive: true,\r\n        maintainAspectRatio: false,\r\n        plugins: {\r\n          legend: { display: false },\r\n          tooltip: {\r\n            callbacks: {\r\n              label: (context) => formatNumber(context.raw)\r\n            }\r\n          }\r\n        },\r\n        scales: {\r\n          x: {\r\n            ticks: {\r\n              callback: (value) => formatNumber(value)\r\n            }\r\n          }\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Render pie/donut chart\r\n   */\r\n  renderPieChart(data) {\r\n    const ctx = document.getElementById('chart-pie');\r\n    if (!ctx) return;\r\n\r\n    // Destroy existing chart\r\n    if (this.chartPie) {\r\n      this.chartPie.destroy();\r\n    }\r\n\r\n    const chartData = data.data.slice(0, 8);\r\n\r\n    this.chartPie = new Chart(ctx.getContext('2d'), {\r\n      type: 'doughnut',\r\n      data: {\r\n        labels: chartData.map(d => d.nom),\r\n        datasets: [{\r\n          data: chartData.map(d => d.valeur),\r\n          backgroundColor: this.colors\r\n        }]\r\n      },\r\n      options: {\r\n        responsive: true,\r\n        maintainAspectRatio: false,\r\n        plugins: {\r\n          legend: {\r\n            position: 'bottom',\r\n            labels: {\r\n              boxWidth: 12,\r\n              font: { size: 10 }\r\n            }\r\n          },\r\n          tooltip: {\r\n            callbacks: {\r\n              label: (context) => {\r\n                const value = formatNumber(context.raw);\r\n                const percentage = context.parsed;\r\n                return `${context.label}: ${value}`;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Refresh charts\r\n   */\r\n  async refresh() {\r\n    await this.loadData(this.currentProduit);\r\n  }\r\n\r\n  /**\r\n   * Destroy charts\r\n   */\r\n  destroy() {\r\n    if (this.chartTop10) {\r\n      this.chartTop10.destroy();\r\n      this.chartTop10 = null;\r\n    }\r\n    if (this.chartPie) {\r\n      this.chartPie.destroy();\r\n      this.chartPie = null;\r\n    }\r\n  }\r\n}\r\n\r\nexport default Charts;\r\n", "/**\r\n * Comparison Panel Component\r\n * Allows comparing multiple regions or departments\r\n */\r\n\r\nimport { api } from '../services/api.js';\r\n\r\nclass ComparisonPanel {\r\n  constructor(containerId) {\r\n    this.container = document.getElementById(containerId);\r\n    this.items = [];\r\n    this.maxItems = 4;\r\n\r\n    // Callbacks\r\n    this.onCompare = null;\r\n  }\r\n\r\n  /**\r\n   * Initialize the comparison panel\r\n   */\r\n  init() {\r\n    this.render();\r\n    this.attachEventListeners();\r\n  }\r\n\r\n  /**\r\n   * Render the comparison panel\r\n   */\r\n  render() {\r\n    if (!this.container) return;\r\n\r\n    this.container.innerHTML = `\r\n      <h3 class=\"comparison-panel__title\">\uD83D\uDCCB Comparaison</h3>\r\n      <div class=\"comparison-panel__selection\" id=\"comparison-selection\"></div>\r\n      <div class=\"comparison-panel__actions\">\r\n        <button class=\"btn btn-primary btn-sm\" id=\"btn-compare\">Comparer</button>\r\n        <button class=\"btn btn-danger btn-sm\" id=\"btn-clear-comparison\">Effacer</button>\r\n      </div>\r\n    `;\r\n\r\n    this.container.classList.add('comparison-panel');\r\n    this.updateVisibility();\r\n  }\r\n\r\n  /**\r\n   * Attach event listeners\r\n   */\r\n  attachEventListeners() {\r\n    const compareBtn = document.getElementById('btn-compare');\r\n    const clearBtn = document.getElementById('btn-clear-comparison');\r\n\r\n    if (compareBtn) {\r\n      compareBtn.addEventListener('click', () => this.compare());\r\n    }\r\n\r\n    if (clearBtn) {\r\n      clearBtn.addEventListener('click', () => this.clear());\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Add an item to comparison\r\n   */\r\n  add(item) {\r\n    // Check if already exists\r\n    const exists = this.items.find(i => i.nom === item.nom);\r\n    if (exists) return false;\r\n\r\n    // Check max items\r\n    if (this.items.length >= this.maxItems) {\r\n      alert(`Maximum ${this.maxItems} \u00E9l\u00E9ments pour la comparaison`);\r\n      return false;\r\n    }\r\n\r\n    this.items.push({\r\n      nom: item.nom,\r\n      type: item.type || item.type_admin\r\n    });\r\n\r\n    this.renderItems();\r\n    this.updateVisibility();\r\n    return true;\r\n  }\r\n\r\n  /**\r\n   * Remove an item from comparison\r\n   */\r\n  remove(index) {\r\n    this.items.splice(index, 1);\r\n    this.renderItems();\r\n    this.updateVisibility();\r\n  }\r\n\r\n  /**\r\n   * Clear all items\r\n   */\r\n  clear() {\r\n    this.items = [];\r\n    this.renderItems();\r\n    this.updateVisibility();\r\n  }\r\n\r\n  /**\r\n   * Render comparison items\r\n   */\r\n  renderItems() {\r\n    const selectionEl = document.getElementById('comparison-selection');\r\n    if (!selectionEl) return;\r\n\r\n    selectionEl.innerHTML = this.items.map((item, index) => `\r\n      <div class=\"comparison-panel__item\">\r\n        <input type=\"checkbox\" checked disabled>\r\n        <span>${item.nom}</span>\r\n        <span class=\"remove\" data-index=\"${index}\">\u00D7</span>\r\n      </div>\r\n    `).join('');\r\n\r\n    // Attach remove handlers\r\n    selectionEl.querySelectorAll('.remove').forEach(btn => {\r\n      btn.addEventListener('click', (e) => {\r\n        const index = parseInt(e.target.dataset.index);\r\n        this.remove(index);\r\n      });\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Update panel visibility\r\n   */\r\n  updateVisibility() {\r\n    if (this.items.length > 0) {\r\n      this.container.classList.add('comparison-panel--active');\r\n    } else {\r\n      this.container.classList.remove('comparison-panel--active');\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Perform comparison\r\n   */\r\n  async compare() {\r\n    if (this.items.length < 2) {\r\n      alert('S\u00E9lectionnez au moins 2 \u00E9l\u00E9ments \u00E0 comparer');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const ids = this.items.map(i => i.nom);\r\n      const type = this.items[0].type === 'region' ? 'region' : 'departement';\r\n      const data = await api.compare(ids, type);\r\n\r\n      if (this.onCompare) {\r\n        this.onCompare(data);\r\n      }\r\n    } catch (error) {\r\n      console.error('Comparison error:', error);\r\n      alert('Erreur lors de la comparaison');\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get current items\r\n   */\r\n  getItems() {\r\n    return this.items;\r\n  }\r\n\r\n  /**\r\n   * Check if an item is in comparison\r\n   */\r\n  hasItem(nom) {\r\n    return this.items.some(i => i.nom === nom);\r\n  }\r\n}\r\n\r\nexport default ComparisonPanel;\r\n", "/**\r\n * Sidebar Component\r\n * Contains filters and charts\r\n */\r\n\r\nimport { api } from '../services/api.js';\r\nimport Charts from './Charts.js';\r\nimport ComparisonPanel from './ComparisonPanel.js';\r\n\r\nclass Sidebar {\r\n  constructor(containerId) {\r\n    this.container = document.getElementById(containerId);\r\n    this.filterOptions = null;\r\n    this.isOpen = true;\r\n\r\n    // Child components\r\n    this.charts = null;\r\n    this.comparisonPanel = null;\r\n\r\n    // Callbacks\r\n    this.onRegionChange = null;\r\n    this.onDepartementChange = null;\r\n    this.onFiltersApply = null;\r\n    this.onFiltersReset = null;\r\n\r\n    // Current state\r\n    this.currentRegion = 'all';\r\n    this.currentDept = 'all';\r\n    this.currentSecteur = 'all';\r\n    this.currentProduit = 'all';\r\n    this.activeFilters = [];\r\n  }\r\n\r\n  /**\r\n   * Initialize the sidebar\r\n   */\r\n  async init() {\r\n    try {\r\n      this.filterOptions = await api.getFilters();\r\n      this.render();\r\n      this.initChildComponents();\r\n      this.attachEventListeners();\r\n    } catch (error) {\r\n      console.error('Sidebar init error:', error);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Render the sidebar HTML\r\n   */\r\n  render() {\r\n    if (!this.container) return;\r\n\r\n    this.container.innerHTML = `\r\n      <!-- Filters Section -->\r\n      <div class=\"sidebar__section\">\r\n        <h3 class=\"sidebar__section-title\">Filtres</h3>\r\n        \r\n        <div class=\"sidebar__filter-group\">\r\n          <label>R\u00E9gion</label>\r\n          <select id=\"select-region\">\r\n            <option value=\"all\">-- Toutes les r\u00E9gions --</option>\r\n            ${this.filterOptions.regions.map(r => `\r\n              <option value=\"${r.id}\">${r.label}</option>\r\n            `).join('')}\r\n          </select>\r\n        </div>\r\n        \r\n        <div class=\"sidebar__filter-group\">\r\n          <label>Secteur d'activit\u00E9</label>\r\n          <select id=\"select-secteur\">\r\n            <option value=\"all\">-- Tous les secteurs --</option>\r\n            ${this.filterOptions.secteurs.map(s => `\r\n              <option value=\"${s.id}\">${s.icone} ${s.label}</option>\r\n            `).join('')}\r\n          </select>\r\n        </div>\r\n\r\n        <div class=\"sidebar__filter-group\">\r\n          <label>D\u00E9partement</label>\r\n          <select id=\"select-dept\" disabled>\r\n            <option value=\"all\">-- Tous les d\u00E9partements --</option>\r\n          </select>\r\n        </div>\r\n\r\n        <div class=\"sidebar__filter-group\">\r\n          <label>Produit</label>\r\n          <select id=\"select-produit\">\r\n            <option value=\"all\">-- Tous les produits --</option>\r\n            ${Object.entries(this.filterOptions.produits).map(([secteur, produits]) => `\r\n              <optgroup label=\"${secteur.charAt(0).toUpperCase() + secteur.slice(1)}\">\r\n                ${produits.map(p => `\r\n                  <option value=\"${p.id}\">${p.icone} ${p.nom}</option>\r\n                `).join('')}\r\n              </optgroup>\r\n            `).join('')}\r\n          </select>\r\n        </div>\r\n\r\n        <button class=\"btn btn-primary btn-block\" id=\"btn-apply-filters\">\r\n          Appliquer les filtres\r\n        </button>\r\n        <button class=\"btn btn-danger btn-block\" id=\"btn-reset-filters\">\r\n          R\u00E9initialiser\r\n        </button>\r\n\r\n        <div class=\"active-filters\" id=\"active-filters\"></div>\r\n      </div>\r\n\r\n      <!-- Charts Section -->\r\n      <div class=\"sidebar__section\" id=\"charts-section\">\r\n        <h3 class=\"sidebar__section-title\">Graphiques</h3>\r\n        <div id=\"charts-container\"></div>\r\n      </div>\r\n\r\n      <!-- Comparison Panel -->\r\n      <div id=\"comparison-panel\"></div>\r\n    `;\r\n\r\n    this.container.classList.add('sidebar');\r\n  }\r\n\r\n  /**\r\n   * Initialize child components\r\n   */\r\n  initChildComponents() {\r\n    // Charts\r\n    this.charts = new Charts('charts-container');\r\n    this.charts.init();\r\n\r\n    // Comparison Panel\r\n    this.comparisonPanel = new ComparisonPanel('comparison-panel');\r\n    this.comparisonPanel.init();\r\n  }\r\n\r\n  /**\r\n   * Attach event listeners\r\n   */\r\n  attachEventListeners() {\r\n    const regionSelect = document.getElementById('select-region');\r\n    const deptSelect = document.getElementById('select-dept');\r\n    const secteurSelect = document.getElementById('select-secteur');\r\n    const produitSelect = document.getElementById('select-produit');\r\n    const applyBtn = document.getElementById('btn-apply-filters');\r\n    const resetBtn = document.getElementById('btn-reset-filters');\r\n\r\n    if (regionSelect) {\r\n      regionSelect.addEventListener('change', (e) => this.handleRegionChange(e.target.value));\r\n    }\r\n\r\n    if (deptSelect) {\r\n      deptSelect.addEventListener('change', (e) => this.handleDeptChange(e.target.value));\r\n    }\r\n\r\n    if (secteurSelect) {\r\n      secteurSelect.addEventListener('change', (e) => {\r\n        this.currentSecteur = e.target.value;\r\n        this.updateActiveFilters();\r\n      });\r\n    }\r\n\r\n    if (produitSelect) {\r\n      produitSelect.addEventListener('change', (e) => {\r\n        this.currentProduit = e.target.value;\r\n        this.updateActiveFilters();\r\n      });\r\n    }\r\n\r\n    if (applyBtn) {\r\n      applyBtn.addEventListener('click', () => this.applyFilters());\r\n    }\r\n\r\n    if (resetBtn) {\r\n      resetBtn.addEventListener('click', () => this.resetFilters());\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Handle region selection change\r\n   */\r\n  handleRegionChange(region) {\r\n    this.currentRegion = region;\r\n    const deptSelect = document.getElementById('select-dept');\r\n\r\n    if (region === 'all') {\r\n      deptSelect.disabled = true;\r\n      deptSelect.innerHTML = '<option value=\"all\">-- Tous les d\u00E9partements --</option>';\r\n    } else {\r\n      deptSelect.disabled = false;\r\n      deptSelect.innerHTML = '<option value=\"all\">-- Tous les d\u00E9partements --</option>';\r\n\r\n      const depts = this.filterOptions.departementsByRegion[region] || [];\r\n      depts.forEach(d => {\r\n        const opt = document.createElement('option');\r\n        opt.value = d;\r\n        opt.textContent = d;\r\n        deptSelect.appendChild(opt);\r\n      });\r\n    }\r\n\r\n    this.updateActiveFilters();\r\n\r\n    if (this.onRegionChange) {\r\n      this.onRegionChange(region);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Handle department selection change\r\n   */\r\n  handleDeptChange(dept) {\r\n    this.currentDept = dept;\r\n    this.updateActiveFilters();\r\n\r\n    if (this.onDepartementChange) {\r\n      this.onDepartementChange(dept);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Apply current filters\r\n   */\r\n  applyFilters() {\r\n    if (this.onFiltersApply) {\r\n      this.onFiltersApply({\r\n        region: this.currentRegion,\r\n        departement: this.currentDept,\r\n        secteur: this.currentSecteur,\r\n        produit: this.currentProduit\r\n      });\r\n    }\r\n\r\n    // Update charts with selected product\r\n    if (this.currentProduit !== 'all') {\r\n      this.charts.update(this.currentProduit);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Reset all filters\r\n   */\r\n  resetFilters() {\r\n    this.currentRegion = 'all';\r\n    this.currentDept = 'all';\r\n    this.currentSecteur = 'all';\r\n    this.currentProduit = 'all';\r\n\r\n    document.getElementById('select-region').value = 'all';\r\n    document.getElementById('select-dept').value = 'all';\r\n    document.getElementById('select-dept').disabled = true;\r\n    document.getElementById('select-secteur').value = 'all';\r\n    document.getElementById('select-produit').value = 'all';\r\n\r\n    this.updateActiveFilters();\r\n    this.charts.update('cacao');\r\n\r\n    if (this.onFiltersReset) {\r\n      this.onFiltersReset();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Update active filters display\r\n   */\r\n  updateActiveFilters() {\r\n    const container = document.getElementById('active-filters');\r\n    if (!container) return;\r\n\r\n    const chips = [];\r\n\r\n    if (this.currentRegion !== 'all') {\r\n      chips.push(this.createChip('region', `R\u00E9gion: ${this.currentRegion}`));\r\n    }\r\n    if (this.currentDept !== 'all') {\r\n      chips.push(this.createChip('dept', `Dept: ${this.currentDept}`));\r\n    }\r\n    if (this.currentSecteur !== 'all') {\r\n      chips.push(this.createChip('secteur', `Secteur: ${this.currentSecteur}`));\r\n    }\r\n    if (this.currentProduit !== 'all') {\r\n      chips.push(this.createChip('produit', `Produit: ${this.currentProduit}`));\r\n    }\r\n\r\n    container.innerHTML = chips.join('');\r\n\r\n    // Attach remove handlers\r\n    container.querySelectorAll('.chip .remove').forEach(btn => {\r\n      btn.addEventListener('click', (e) => {\r\n        const type = e.target.dataset.type;\r\n        this.clearFilter(type);\r\n      });\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Create a filter chip HTML\r\n   */\r\n  createChip(type, label) {\r\n    return `<span class=\"chip\">${label} <span class=\"remove\" data-type=\"${type}\">\u00D7</span></span>`;\r\n  }\r\n\r\n  /**\r\n   * Clear a specific filter\r\n   */\r\n  clearFilter(type) {\r\n    switch (type) {\r\n      case 'region':\r\n        document.getElementById('select-region').value = 'all';\r\n        this.handleRegionChange('all');\r\n        break;\r\n      case 'dept':\r\n        document.getElementById('select-dept').value = 'all';\r\n        this.handleDeptChange('all');\r\n        break;\r\n      case 'secteur':\r\n        document.getElementById('select-secteur').value = 'all';\r\n        this.currentSecteur = 'all';\r\n        break;\r\n      case 'produit':\r\n        document.getElementById('select-produit').value = 'all';\r\n        this.currentProduit = 'all';\r\n        break;\r\n    }\r\n    this.updateActiveFilters();\r\n  }\r\n\r\n  /**\r\n   * Toggle sidebar visibility\r\n   */\r\n  toggle() {\r\n    this.isOpen = !this.isOpen;\r\n    this.container.classList.toggle('sidebar--collapsed', !this.isOpen);\r\n    return this.isOpen;\r\n  }\r\n\r\n  /**\r\n   * Set region programmatically\r\n   */\r\n  setRegion(region) {\r\n    document.getElementById('select-region').value = region;\r\n    this.handleRegionChange(region);\r\n  }\r\n\r\n  /**\r\n   * Set department programmatically\r\n   */\r\n  setDepartement(dept) {\r\n    document.getElementById('select-dept').value = dept;\r\n    this.handleDeptChange(dept);\r\n  }\r\n}\r\n\r\nexport default Sidebar;\r\n", "/**\r\n * Map Component\r\n * Interactive Leaflet map for displaying regions and departments\r\n */\r\n\r\nimport { api } from '../services/api.js';\r\nimport { formatNumber, getProductionColor } from '../utils/helpers.js';\r\n\r\nclass Map {\r\n  constructor(containerId) {\r\n    this.containerId = containerId;\r\n    this.map = null;\r\n    this.layerRegions = null;\r\n    this.layerDepts = null;\r\n    this.dataRegions = null;\r\n    this.dataDepts = null;\r\n    this.currentTheme = 'tous';\r\n    this.currentRegion = null;\r\n    this.currentSecteur = 'all';\r\n    this.selectedRegions = [];\r\n    this.selectedDepts = [];\r\n\r\n    // Secteur colors\r\n    this.secteurColors = {\r\n      agriculture: '#4CAF50',\r\n      elevage: '#FF9800',\r\n      peche: '#2196F3'\r\n    };\r\n\r\n    // Callbacks\r\n    this.onFeatureClick = null;\r\n    this.onFeatureHover = null;\r\n\r\n    // Map configuration\r\n    this.config = {\r\n      center: [7.3697, 12.3547],\r\n      zoom: 6,\r\n      minZoom: 5,\r\n      maxZoom: 12\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Initialize the map\r\n   */\r\n  async init() {\r\n    this.createMap();\r\n    await this.loadData();\r\n    this.displayRegions();\r\n  }\r\n\r\n  /**\r\n   * Create the Leaflet map instance\r\n   */\r\n  createMap() {\r\n    this.map = L.map(this.containerId, {\r\n      center: this.config.center,\r\n      zoom: this.config.zoom,\r\n    });\r\n\r\n    // Add tile layer\r\n    L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png', {\r\n      attribution: '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors &copy; <a href=\"https://carto.com/attributions\">CARTO</a>',\r\n      subdomains: 'abcd',\r\n      maxZoom: 20\r\n    }).addTo(this.map);\r\n  }\r\n\r\n  /**\r\n   * Load map data from API\r\n   */\r\n  async loadData() {\r\n    try {\r\n      const [regions, depts] = await Promise.all([\r\n        api.getRegions(),\r\n        api.getDepartements()\r\n      ]);\r\n\r\n      this.dataRegions = regions;\r\n      this.dataDepts = depts;\r\n    } catch (error) {\r\n      console.error('Map data load error:', error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get style for a feature based on theme and secteur\r\n   */\r\n  /**\r\n   * Get style for a feature based on theme and secteur\r\n   */\r\n  getStyle(feature, theme) {\r\n    const prod = feature.properties.production || {};\r\n    const featureName = feature.properties.nom;\r\n\r\n    // Default \"Hue\" settings for the map of Cameroon\r\n    let fillColor = '#2ecc71'; // A soft emerald green\r\n    let fillOpacity = 0.15;    // Very subtle hue\r\n    let weight = 1;\r\n    let borderColor = '#27ae60'; // Darker green for borders\r\n\r\n    // Check if this feature is selected\r\n    const isSelectedRegion = this.selectedRegions.includes(featureName);\r\n    const isSelectedDept = this.selectedDepts.includes(featureName);\r\n    const isSelected = isSelectedRegion || isSelectedDept;\r\n\r\n    if (theme === 'tous') {\r\n      // If a secteur is selected, override the general green hue\r\n      if (this.currentSecteur !== 'all') {\r\n        const secteurPrincipal = prod.secteur_principal;\r\n        if (secteurPrincipal === this.currentSecteur) {\r\n          fillColor = this.secteurColors[this.currentSecteur] || '#ccc';\r\n          fillOpacity = isSelected ? 0.9 : 0.6;\r\n        } else {\r\n          fillColor = '#e0e0e0'; // Desaturate non-matching areas\r\n          fillOpacity = isSelected ? 0.5 : 0.2;\r\n          borderColor = 'white';\r\n        }\r\n      } else {\r\n        // DEFAULT STATE: Subtle green hue for the whole country\r\n        fillColor = '#2ecc71';\r\n        fillOpacity = isSelected ? 0.6 : 0.2;\r\n        borderColor = isSelected ? '#333' : '#27ae60';\r\n      }\r\n    } else if (prod[theme] && prod[theme] > 0) {\r\n      // THEMATIC STATE (e.g., searching for a specific product)\r\n      const colorInfo = getProductionColor(theme, prod[theme]);\r\n      fillColor = colorInfo.fillColor;\r\n      fillOpacity = isSelected ? 0.9 : colorInfo.fillOpacity;\r\n      borderColor = 'white';\r\n    }\r\n\r\n    // High-level highlight for selected features\r\n    if (isSelected) {\r\n      weight = 2.5;\r\n      borderColor = '#2c3e50'; // Dark navy for contrast on selection\r\n    }\r\n\r\n    return {\r\n      fillColor,\r\n      fillOpacity,\r\n      weight,\r\n      color: borderColor,\r\n      opacity: 0.8 // Border opacity\r\n    };\r\n  }\r\n  // getStyle(feature, theme) {\r\n  //   const prod = feature.properties.production || {};\r\n  //   const featureName = feature.properties.nom;\r\n  //   let fillColor = '#ccc';\r\n  //   let fillOpacity = 0.3;\r\n  //   let weight = 1;\r\n  //   let borderColor = 'white';\r\n  //\r\n  //   // Check if this feature is selected\r\n  //   const isSelectedRegion = this.selectedRegions.includes(featureName);\r\n  //   const isSelectedDept = this.selectedDepts.includes(featureName);\r\n  //   const isSelected = isSelectedRegion || isSelectedDept;\r\n  //\r\n  //   if (theme === 'tous') {\r\n  //     // If a secteur is selected, color by secteur\r\n  //     if (this.currentSecteur !== 'all') {\r\n  //       const secteurPrincipal = prod.secteur_principal;\r\n  //       if (secteurPrincipal === this.currentSecteur) {\r\n  //         fillColor = this.secteurColors[this.currentSecteur] || '#ccc';\r\n  //         fillOpacity = isSelected ? 0.9 : 0.6;\r\n  //       } else {\r\n  //         fillColor = '#e0e0e0';\r\n  //         fillOpacity = isSelected ? 0.5 : 0.2;\r\n  //       }\r\n  //     } else {\r\n  //       const isRegion = feature.properties.type_admin !== 'departement';\r\n  //       fillColor = isRegion ? '#2ecc71' : '#95a5a6';\r\n  //       fillOpacity = 0.5;\r\n  //     }\r\n  //   } else if (prod[theme] && prod[theme] > 0) {\r\n  //     const colorInfo = getProductionColor(theme, prod[theme]);\r\n  //     fillColor = colorInfo.fillColor;\r\n  //     fillOpacity = isSelected ? 0.9 : colorInfo.fillOpacity;\r\n  //   }\r\n  //\r\n  //   // Highlight selected features\r\n  //   if (isSelected) {\r\n  //     weight = 3;\r\n  //     borderColor = '#333';\r\n  //   }\r\n  //\r\n  //   return {\r\n  //     fillColor,\r\n  //     fillOpacity,\r\n  //     weight,\r\n  //     color: borderColor,\r\n  //     opacity: 1\r\n  //   };\r\n  // }\r\n\r\n  /**\r\n   * Create popup content for a feature\r\n   */\r\n  createPopupContent(properties) {\r\n    let content = `<b>${properties.nom}</b><br>`;\r\n    content += `<small>${properties.type_admin === 'departement' ? 'D\u00E9partement' : 'R\u00E9gion'}</small><br>`;\r\n\r\n    if (properties.production) {\r\n      const prods = Object.entries(properties.production)\r\n        .filter(([k, v]) => typeof v === 'number' && v > 0 && k !== 'valeur_economique')\r\n        .slice(0, 5);\r\n\r\n      if (prods.length > 0) {\r\n        content += '<hr style=\"margin: 5px 0;\">';\r\n        prods.forEach(([k, v]) => {\r\n          content += `${k}: ${formatNumber(v)}<br>`;\r\n        });\r\n      }\r\n    }\r\n\r\n    return content;\r\n  }\r\n\r\n  /**\r\n   * Setup feature interactions\r\n   */\r\n  onEachFeature(feature, layer) {\r\n    // Popup\r\n    layer.bindPopup(this.createPopupContent(feature.properties));\r\n\r\n    // Events\r\n    layer.on({\r\n      mouseover: (e) => {\r\n        e.target.setStyle({ weight: 3, color: '#666' });\r\n\r\n        if (this.onFeatureHover) {\r\n          this.onFeatureHover(feature.properties, 'enter');\r\n        }\r\n      },\r\n      mouseout: (e) => {\r\n        if (this.layerRegions) {\r\n          this.layerRegions.resetStyle(e.target);\r\n        }\r\n        if (this.layerDepts) {\r\n          this.layerDepts.resetStyle(e.target);\r\n        }\r\n\r\n        if (this.onFeatureHover) {\r\n          this.onFeatureHover(feature.properties, 'leave');\r\n        }\r\n      },\r\n      click: (e) => {\r\n        if (this.onFeatureClick) {\r\n          this.onFeatureClick(feature.properties);\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Display regions layer\r\n   */\r\n  displayRegions(theme = null) {\r\n    const t = theme || this.currentTheme;\r\n\r\n    // Remove existing layers\r\n    if (this.layerDepts) {\r\n      this.map.removeLayer(this.layerDepts);\r\n      this.layerDepts = null;\r\n    }\r\n    if (this.layerRegions) {\r\n      this.map.removeLayer(this.layerRegions);\r\n    }\r\n\r\n    // Add regions layer\r\n    this.layerRegions = L.geoJSON(this.dataRegions, {\r\n      style: (f) => this.getStyle(f, t),\r\n      onEachFeature: (f, l) => this.onEachFeature(f, l)\r\n    }).addTo(this.map);\r\n\r\n    this.currentRegion = null;\r\n  }\r\n\r\n  /**\r\n   * Display departments layer for a specific region\r\n   */\r\n  displayDepartements(region = null, theme = null) {\r\n    const t = theme || this.currentTheme;\r\n\r\n    // Remove existing layers\r\n    if (this.layerRegions) {\r\n      this.map.removeLayer(this.layerRegions);\r\n      this.layerRegions = null;\r\n    }\r\n    if (this.layerDepts) {\r\n      this.map.removeLayer(this.layerDepts);\r\n    }\r\n\r\n    // Filter features if region is specified\r\n    let features = this.dataDepts.features;\r\n    if (region) {\r\n      features = features.filter(f => f.properties.region_parente === region);\r\n    }\r\n\r\n    // Add departments layer\r\n    this.layerDepts = L.geoJSON({ type: 'FeatureCollection', features }, {\r\n      style: (f) => this.getStyle(f, t),\r\n      onEachFeature: (f, l) => this.onEachFeature(f, l)\r\n    }).addTo(this.map);\r\n\r\n    this.currentRegion = region;\r\n  }\r\n\r\n  /**\r\n   * Change the display theme\r\n   */\r\n  setTheme(theme) {\r\n    this.currentTheme = theme;\r\n\r\n    if (this.currentRegion) {\r\n      this.displayDepartements(this.currentRegion, theme);\r\n    } else {\r\n      this.displayRegions(theme);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Set the current secteur for coloring\r\n   */\r\n  setSecteur(secteur) {\r\n    this.currentSecteur = secteur;\r\n    this.refreshLayers();\r\n  }\r\n\r\n  /**\r\n   * Set selected regions (for multi-select)\r\n   */\r\n  setSelectedRegions(regions) {\r\n    this.selectedRegions = regions || [];\r\n\r\n    if (regions.length > 0) {\r\n      // Show departments of selected regions\r\n      this.displayDepartementsForRegions(regions);\r\n    } else {\r\n      // Show all regions\r\n      this.displayRegions();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Set selected departments (for multi-select)\r\n   */\r\n  setSelectedDepts(depts) {\r\n    this.selectedDepts = depts || [];\r\n    this.refreshLayers();\r\n\r\n    // Zoom to fit all selected departments\r\n    if (depts.length > 0) {\r\n      this.zoomToSelectedDepts();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Display departments for multiple selected regions\r\n   */\r\n  displayDepartementsForRegions(regions) {\r\n    const t = this.currentTheme;\r\n\r\n    // Remove existing layers\r\n    if (this.layerRegions) {\r\n      this.map.removeLayer(this.layerRegions);\r\n      this.layerRegions = null;\r\n    }\r\n    if (this.layerDepts) {\r\n      this.map.removeLayer(this.layerDepts);\r\n    }\r\n\r\n    // Filter features for selected regions\r\n    let features = this.dataDepts.features.filter(f =>\r\n      regions.includes(f.properties.region_parente)\r\n    );\r\n\r\n    // Add departments layer\r\n    this.layerDepts = L.geoJSON({ type: 'FeatureCollection', features }, {\r\n      style: (f) => this.getStyle(f, t),\r\n      onEachFeature: (f, l) => this.onEachFeature(f, l)\r\n    }).addTo(this.map);\r\n\r\n    // Zoom to fit all selected regions\r\n    if (this.layerDepts.getBounds().isValid()) {\r\n      this.map.fitBounds(this.layerDepts.getBounds(), { padding: [20, 20] });\r\n    }\r\n\r\n    this.currentRegion = regions.length === 1 ? regions[0] : null;\r\n  }\r\n\r\n  /**\r\n   * Zoom to fit all selected departments\r\n   */\r\n  zoomToSelectedDepts() {\r\n    if (!this.layerDepts || this.selectedDepts.length === 0) return;\r\n\r\n    const bounds = L.latLngBounds();\r\n\r\n    this.layerDepts.eachLayer((layer) => {\r\n      if (this.selectedDepts.includes(layer.feature.properties.nom)) {\r\n        bounds.extend(layer.getBounds());\r\n      }\r\n    });\r\n\r\n    if (bounds.isValid()) {\r\n      this.map.fitBounds(bounds, { padding: [20, 20] });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Refresh all layers with current styles\r\n   */\r\n  refreshLayers() {\r\n    if (this.layerRegions) {\r\n      this.layerRegions.eachLayer((layer) => {\r\n        layer.setStyle(this.getStyle(layer.feature, this.currentTheme));\r\n      });\r\n    }\r\n    if (this.layerDepts) {\r\n      this.layerDepts.eachLayer((layer) => {\r\n        layer.setStyle(this.getStyle(layer.feature, this.currentTheme));\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Apply filters from sidebar\r\n   */\r\n  applyFilters(filters) {\r\n    const { secteur, regions, departements, produit } = filters;\r\n\r\n    // Set secteur\r\n    this.currentSecteur = secteur || 'all';\r\n\r\n    // Set theme based on produit or default\r\n    if (produit && produit !== 'all') {\r\n      this.currentTheme = produit;\r\n    } else {\r\n      this.currentTheme = 'tous';\r\n    }\r\n\r\n    // Set selected regions and departments\r\n    this.selectedRegions = regions || [];\r\n    this.selectedDepts = departements || [];\r\n\r\n    // Update display\r\n    if (regions && regions.length > 0) {\r\n      this.displayDepartementsForRegions(regions);\r\n    } else if (secteur && secteur !== 'all') {\r\n      this.displayRegions();\r\n    } else {\r\n      this.resetView();\r\n      return;\r\n    }\r\n\r\n    // Apply department selection highlighting\r\n    if (departements && departements.length > 0) {\r\n      this.zoomToSelectedDepts();\r\n    }\r\n\r\n    this.refreshLayers();\r\n  }\r\n\r\n  /**\r\n   * Zoom to a region\r\n   */\r\n  zoomToRegion(regionName) {\r\n    const feature = this.dataRegions.features.find(\r\n      f => f.properties.nom === regionName\r\n    );\r\n\r\n    if (feature) {\r\n      const bounds = L.geoJSON(feature).getBounds();\r\n      this.map.fitBounds(bounds);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Zoom to a department\r\n   */\r\n  zoomToDepartement(deptName) {\r\n    if (!this.layerDepts) return;\r\n\r\n    this.layerDepts.eachLayer((layer) => {\r\n      if (layer.feature.properties.nom === deptName) {\r\n        // Highlight\r\n        layer.setStyle({\r\n          color: '#0044ff',\r\n          weight: 4,\r\n          opacity: 1\r\n        });\r\n        layer.bringToFront();\r\n\r\n        // Zoom\r\n        this.map.fitBounds(layer.getBounds());\r\n\r\n        // Open popup\r\n        layer.openPopup();\r\n      } else {\r\n        // Reset other layers\r\n        this.layerDepts.resetStyle(layer);\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Reset view to initial state\r\n   */\r\n  resetView() {\r\n    this.map.setView(this.config.center, this.config.zoom);\r\n    this.displayRegions('tous');\r\n    this.currentTheme = 'tous';\r\n  }\r\n\r\n  /**\r\n   * Get the map instance\r\n   */\r\n  getMap() {\r\n    return this.map;\r\n  }\r\n\r\n  /**\r\n   * Get regions data\r\n   */\r\n  getRegionsData() {\r\n    return this.dataRegions;\r\n  }\r\n\r\n  /**\r\n   * Get departments data\r\n   */\r\n  getDepartementsData() {\r\n    return this.dataDepts;\r\n  }\r\n\r\n  /**\r\n   * Invalidate map size (call after container resize)\r\n   */\r\n  invalidateSize() {\r\n    if (this.map) {\r\n      this.map.invalidateSize();\r\n    }\r\n  }\r\n}\r\n\r\nexport default Map;\r\n", "/**\r\n * Legend Component\r\n * Dynamic map legend based on current theme\r\n */\r\n\r\nimport { api } from '../services/api.js';\r\n\r\nclass Legend {\r\n  constructor(containerId) {\r\n    this.container = document.getElementById(containerId);\r\n    this.data = null;\r\n    this.isVisible = true;\r\n    this.currentTheme = 'tous';\r\n  }\r\n\r\n  /**\r\n   * Initialize the legend\r\n   */\r\n  async init() {\r\n    this.render();\r\n    await this.loadData('tous');\r\n  }\r\n\r\n  /**\r\n   * Render the legend container\r\n   */\r\n  render() {\r\n    if (!this.container) return;\r\n\r\n    this.container.innerHTML = `\r\n      <button class=\"legend__toggle\" id=\"legend-toggle\">\uD83D\uDC41</button>\r\n      <h4 class=\"legend__title\" id=\"legend-title\">L\u00E9gende</h4>\r\n      <div class=\"legend__content\" id=\"legend-content\"></div>\r\n    `;\r\n\r\n    this.container.classList.add('legend');\r\n    this.attachEventListeners();\r\n  }\r\n\r\n  /**\r\n   * Attach event listeners\r\n   */\r\n  attachEventListeners() {\r\n    const toggleBtn = document.getElementById('legend-toggle');\r\n    if (toggleBtn) {\r\n      toggleBtn.addEventListener('click', () => this.toggle());\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Load legend data for a theme\r\n   */\r\n  async loadData(theme) {\r\n    try {\r\n      this.currentTheme = theme;\r\n      this.data = await api.getLegend(theme);\r\n      this.renderContent();\r\n    } catch (error) {\r\n      console.error('Legend load error:', error);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Update legend for a new theme\r\n   */\r\n  async update(theme) {\r\n    await this.loadData(theme);\r\n  }\r\n\r\n  /**\r\n   * Update legend for secteur-based coloring\r\n   */\r\n  updateForSecteur(secteur) {\r\n    const secteurColors = {\r\n      agriculture: { couleur: '#4CAF50', label: 'Agriculture', icone: '\uD83C\uDF3E' },\r\n      elevage: { couleur: '#FF9800', label: '\u00C9levage', icone: '\uD83D\uDC04' },\r\n      peche: { couleur: '#2196F3', label: 'P\u00EAche', icone: '\uD83D\uDC1F' }\r\n    };\r\n\r\n    const secteurInfo = secteurColors[secteur];\r\n    if (!secteurInfo) return;\r\n\r\n    const titleEl = document.getElementById('legend-title');\r\n    const contentEl = document.getElementById('legend-content');\r\n\r\n    if (titleEl) {\r\n      titleEl.textContent = `Secteur: ${secteurInfo.label}`;\r\n    }\r\n\r\n    if (contentEl) {\r\n      contentEl.innerHTML = `\r\n        <div class=\"legend__item\">\r\n          <span class=\"legend__color\" style=\"background: ${secteurInfo.couleur}; opacity: 0.8\"></span>\r\n          <span class=\"legend__label\">${secteurInfo.icone} Secteur principal</span>\r\n        </div>\r\n        <div class=\"legend__item\">\r\n          <span class=\"legend__color\" style=\"background: #e0e0e0; opacity: 0.5\"></span>\r\n          <span class=\"legend__label\">Autres secteurs</span>\r\n        </div>\r\n        <div class=\"legend__item\">\r\n          <span class=\"legend__color\" style=\"background: #333; opacity: 1; height: 3px;\"></span>\r\n          <span class=\"legend__label\">Zone s\u00E9lectionn\u00E9e</span>\r\n        </div>\r\n      `;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Render legend content\r\n   */\r\n  renderContent() {\r\n    const titleEl = document.getElementById('legend-title');\r\n    const contentEl = document.getElementById('legend-content');\r\n\r\n    if (!this.data) return;\r\n\r\n    if (titleEl) {\r\n      titleEl.textContent = this.data.titre;\r\n    }\r\n\r\n    if (contentEl) {\r\n      contentEl.innerHTML = this.data.items.map(item => `\r\n        <div class=\"legend__item\">\r\n          <span\r\n            class=\"legend__color\"\r\n            style=\"background: ${item.couleur}; opacity: ${item.opacite || 0.7}\"\r\n          ></span>\r\n          <span class=\"legend__label\">${item.label}</span>\r\n        </div>\r\n      `).join('');\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Toggle legend visibility\r\n   */\r\n  toggle() {\r\n    this.isVisible = !this.isVisible;\r\n    const contentEl = document.getElementById('legend-content');\r\n    if (contentEl) {\r\n      contentEl.style.display = this.isVisible ? 'block' : 'none';\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Show legend\r\n   */\r\n  show() {\r\n    this.isVisible = true;\r\n    const contentEl = document.getElementById('legend-content');\r\n    if (contentEl) {\r\n      contentEl.style.display = 'block';\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Hide legend\r\n   */\r\n  hide() {\r\n    this.isVisible = false;\r\n    const contentEl = document.getElementById('legend-content');\r\n    if (contentEl) {\r\n      contentEl.style.display = 'none';\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get current legend data\r\n   */\r\n  getData() {\r\n    return this.data;\r\n  }\r\n}\r\n\r\nexport default Legend;\r\n", "/**\r\n * Modal Component\r\n * Details modal for regions and departments\r\n */\r\n\r\nimport { api } from '../services/api.js';\r\nimport { formatNumber } from '../utils/helpers.js';\r\n\r\nclass Modal {\r\n  constructor(containerId) {\r\n    this.container = document.getElementById(containerId);\r\n    this.data = null;\r\n    this.isOpen = false;\r\n\r\n    // Callbacks\r\n    this.onClose = null;\r\n    this.onAddToComparison = null;\r\n  }\r\n\r\n  /**\r\n   * Initialize the modal\r\n   */\r\n  init() {\r\n    this.render();\r\n    this.attachEventListeners();\r\n  }\r\n\r\n  /**\r\n   * Render the modal structure\r\n   */\r\n  render() {\r\n    if (!this.container) return;\r\n\r\n    this.container.innerHTML = `\r\n      <div class=\"modal\">\r\n        <div class=\"modal__header\">\r\n          <h2 class=\"modal__title\" id=\"modal-title\">D\u00E9tails</h2>\r\n          <button class=\"modal__close\" id=\"modal-close\">&times;</button>\r\n        </div>\r\n        <div class=\"modal__body\" id=\"modal-body\">\r\n          <!-- Dynamic content -->\r\n        </div>\r\n        <div class=\"modal__footer\">\r\n          <button class=\"btn btn-primary\" id=\"modal-add-comparison\">\r\n            Ajouter \u00E0 la comparaison\r\n          </button>\r\n          <button class=\"btn btn-danger\" id=\"modal-close-btn\">\r\n            Fermer\r\n          </button>\r\n        </div>\r\n      </div>\r\n    `;\r\n\r\n    this.container.classList.add('modal-overlay');\r\n  }\r\n\r\n  /**\r\n   * Attach event listeners\r\n   */\r\n  attachEventListeners() {\r\n    const closeBtn = document.getElementById('modal-close');\r\n    const closeBtnFooter = document.getElementById('modal-close-btn');\r\n    const addComparisonBtn = document.getElementById('modal-add-comparison');\r\n\r\n    if (closeBtn) {\r\n      closeBtn.addEventListener('click', () => this.close());\r\n    }\r\n\r\n    if (closeBtnFooter) {\r\n      closeBtnFooter.addEventListener('click', () => this.close());\r\n    }\r\n\r\n    if (addComparisonBtn) {\r\n      addComparisonBtn.addEventListener('click', () => {\r\n        if (this.onAddToComparison && this.data) {\r\n          this.onAddToComparison(this.data);\r\n        }\r\n        this.close();\r\n      });\r\n    }\r\n\r\n    // Close on overlay click\r\n    this.container.addEventListener('click', (e) => {\r\n      if (e.target === this.container) {\r\n        this.close();\r\n      }\r\n    });\r\n\r\n    // Close on Escape key\r\n    document.addEventListener('keydown', (e) => {\r\n      if (e.key === 'Escape' && this.isOpen) {\r\n        this.close();\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Show modal with data for a location\r\n   */\r\n  async show(properties) {\r\n    const type = properties.type_admin;\r\n    const nom = properties.nom;\r\n\r\n    try {\r\n      const endpoint = type === 'region' ? 'regions' : 'departements';\r\n      const fetchFn = type === 'region' ? api.getRegionDetails : api.getDepartementDetails;\r\n      this.data = await fetchFn.call(api, nom);\r\n      this.data.type = type;\r\n\r\n      this.renderContent();\r\n      this.open();\r\n    } catch (error) {\r\n      console.error('Modal show error:', error);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Render modal content based on data\r\n   */\r\n  renderContent() {\r\n    const titleEl = document.getElementById('modal-title');\r\n    const bodyEl = document.getElementById('modal-body');\r\n\r\n    if (!this.data) return;\r\n\r\n    // Title\r\n    if (titleEl) {\r\n      const typeLabel = this.data.type === 'region' ? 'R\u00E9gion' : 'D\u00E9partement';\r\n      titleEl.textContent = `${this.data.nom} (${typeLabel})`;\r\n    }\r\n\r\n    // Body\r\n    if (bodyEl) {\r\n      bodyEl.innerHTML = this.buildBodyContent();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Build the modal body content\r\n   */\r\n  buildBodyContent() {\r\n    const data = this.data;\r\n    let html = '';\r\n\r\n    // General Info Section\r\n    html += '<div class=\"modal__section\">';\r\n    html += '<h4 class=\"modal__section-title\">Informations g\u00E9n\u00E9rales</h4>';\r\n    html += '<div class=\"info-grid\">';\r\n\r\n    if (data.superficie) {\r\n      html += this.createInfoItem('Superficie', `${formatNumber(Math.round(data.superficie))} km\u00B2`);\r\n    }\r\n    if (data.population) {\r\n      html += this.createInfoItem('Population', formatNumber(data.population));\r\n    }\r\n    if (data.valeur_economique) {\r\n      html += this.createInfoItem('Valeur \u00E9conomique', `${formatNumber(data.valeur_economique)} FCFA`);\r\n    }\r\n    if (data.secteur_principal) {\r\n      html += this.createInfoItem('Secteur principal', data.secteur_principal);\r\n    }\r\n    if (data.region_parente) {\r\n      html += this.createInfoItem('R\u00E9gion', data.region_parente);\r\n    }\r\n\r\n    html += '</div></div>';\r\n\r\n    // Production Section\r\n    if (data.production) {\r\n      if (data.type === 'region') {\r\n        // Grouped by sector for regions\r\n        ['agriculture', 'elevage', 'peche'].forEach(secteur => {\r\n          const sectorData = data.production[secteur];\r\n          if (sectorData && Object.keys(sectorData).length > 0) {\r\n            html += `<div class=\"modal__section\">`;\r\n            html += `<h4 class=\"modal__section-title\">${this.capitalizeFirst(secteur)}</h4>`;\r\n            html += '<div class=\"info-grid\">';\r\n\r\n            Object.entries(sectorData).forEach(([nom, info]) => {\r\n              const icon = info.icone || '';\r\n              const value = formatNumber(info.valeur);\r\n              const unit = info.unite || '';\r\n              html += this.createInfoItem(`${icon} ${nom}`, `${value} ${unit}`);\r\n            });\r\n\r\n            html += '</div></div>';\r\n          }\r\n        });\r\n      } else {\r\n        // Flat list for departments\r\n        html += '<div class=\"modal__section\">';\r\n        html += '<h4 class=\"modal__section-title\">Production</h4>';\r\n        html += '<div class=\"info-grid\">';\r\n\r\n        Object.entries(data.production).forEach(([produit, valeur]) => {\r\n          if (typeof valeur === 'number' && valeur > 0) {\r\n            html += this.createInfoItem(produit, formatNumber(valeur));\r\n          }\r\n        });\r\n\r\n        html += '</div></div>';\r\n      }\r\n    }\r\n\r\n    // Departments list for regions\r\n    if (data.departements && data.departements.length > 0) {\r\n      html += '<div class=\"modal__section\">';\r\n      html += '<h4 class=\"modal__section-title\">D\u00E9partements</h4>';\r\n      html += '<ul class=\"modal__list\">';\r\n\r\n      data.departements.forEach(d => {\r\n        const pop = d.population ? ` - ${formatNumber(d.population)} hab.` : '';\r\n        html += `<li>${d.nom}${pop}</li>`;\r\n      });\r\n\r\n      html += '</ul></div>';\r\n    }\r\n\r\n    // Year reference\r\n    html += `<div class=\"modal__section\">`;\r\n    html += `<small class=\"text-muted\">Ann\u00E9e de r\u00E9f\u00E9rence: ${data.annee || 2024}</small>`;\r\n    html += '</div>';\r\n\r\n    return html;\r\n  }\r\n\r\n  /**\r\n   * Create an info item HTML\r\n   */\r\n  createInfoItem(label, value) {\r\n    return `\r\n      <div class=\"info-item\">\r\n        <div class=\"info-item__label\">${label}</div>\r\n        <div class=\"info-item__value\">${value}</div>\r\n      </div>\r\n    `;\r\n  }\r\n\r\n  /**\r\n   * Capitalize first letter\r\n   */\r\n  capitalizeFirst(str) {\r\n    return str.charAt(0).toUpperCase() + str.slice(1);\r\n  }\r\n\r\n  /**\r\n   * Open the modal\r\n   */\r\n  open() {\r\n    this.container.classList.add('modal-overlay--active');\r\n    this.isOpen = true;\r\n    document.body.style.overflow = 'hidden';\r\n  }\r\n\r\n  /**\r\n   * Close the modal\r\n   */\r\n  close() {\r\n    this.container.classList.remove('modal-overlay--active');\r\n    this.isOpen = false;\r\n    document.body.style.overflow = '';\r\n\r\n    if (this.onClose) {\r\n      this.onClose();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Show comparison results\r\n   */\r\n  showComparison(comparisonData) {\r\n    const titleEl = document.getElementById('modal-title');\r\n    const bodyEl = document.getElementById('modal-body');\r\n\r\n    if (titleEl) {\r\n      titleEl.textContent = 'Comparaison';\r\n    }\r\n\r\n    if (bodyEl && comparisonData.items) {\r\n      let html = '<div class=\"modal__section\">';\r\n      html += '<table style=\"width:100%; border-collapse: collapse;\">';\r\n\r\n      // Header\r\n      html += '<tr><th style=\"border:1px solid #ddd; padding:8px;\">Crit\u00E8re</th>';\r\n      comparisonData.items.forEach(item => {\r\n        html += `<th style=\"border:1px solid #ddd; padding:8px;\">${item.nom}</th>`;\r\n      });\r\n      html += '</tr>';\r\n\r\n      // Rows\r\n      comparisonData.produits.forEach(produit => {\r\n        html += `<tr><td style=\"border:1px solid #ddd; padding:8px;\">${produit}</td>`;\r\n        comparisonData.items.forEach(item => {\r\n          const val = item.production?.[produit] || 0;\r\n          html += `<td style=\"border:1px solid #ddd; padding:8px; text-align:right;\">${formatNumber(val)}</td>`;\r\n        });\r\n        html += '</tr>';\r\n      });\r\n\r\n      html += '</table></div>';\r\n      bodyEl.innerHTML = html;\r\n    }\r\n\r\n    this.open();\r\n  }\r\n\r\n  /**\r\n   * Get current data\r\n   */\r\n  getData() {\r\n    return this.data;\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n", "/**\r\n * Footer Component\r\n * Displays credits, sources, and last update info\r\n */\r\n\r\nimport { api } from '../services/api.js';\r\n\r\nclass Footer {\r\n  constructor(containerId) {\r\n    this.container = document.getElementById(containerId);\r\n    this.data = null;\r\n  }\r\n\r\n  /**\r\n   * Initialize the footer\r\n   */\r\n  async init() {\r\n    try {\r\n      this.data = await api.getFooter();\r\n      this.render();\r\n    } catch (error) {\r\n      console.error('Footer init error:', error);\r\n      this.renderFallback();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Render the footer\r\n   */\r\n  render() {\r\n    if (!this.container || !this.data) return;\r\n\r\n    const sourcesText = this.data.sources.map(s => s.nom).join(', ');\r\n\r\n    this.container.innerHTML = `\r\n      <div class=\"footer__credits\">${this.data.credits}</div>\r\n      <div class=\"footer__info\">\r\n        <span>Derni\u00E8re mise \u00E0 jour: ${this.data.derniereMAJ}</span>\r\n        <span> | </span>\r\n        <span>Sources: <a href=\"#\" id=\"sources-link\">${sourcesText}</a></span>\r\n      </div>\r\n    `;\r\n\r\n    this.container.classList.add('footer');\r\n  }\r\n\r\n  /**\r\n   * Render fallback content\r\n   */\r\n  renderFallback() {\r\n    if (!this.container) return;\r\n\r\n    this.container.innerHTML = `\r\n      <div class=\"footer__credits\">\u00A9 2024 Projet 5GI</div>\r\n      <div class=\"footer__info\">\r\n        <span>Atlas \u00C9conomique du Cameroun</span>\r\n      </div>\r\n    `;\r\n\r\n    this.container.classList.add('footer');\r\n  }\r\n\r\n  /**\r\n   * Update footer position when sidebar toggles\r\n   */\r\n  setFullWidth(isFull) {\r\n    if (this.container) {\r\n      this.container.classList.toggle('footer--full', isFull);\r\n    }\r\n  }\r\n}\r\n\r\nexport default Footer;\r\n", "// /**\r\n//  * KPI Dashboard Component\r\n//  * Displays key performance indicators\r\n//  */\r\n//\r\n// import { api } from '../services/api.js';\r\n// import { formatNumber } from '../utils/helpers.js';\r\n//\r\n// class KPIDashboard {\r\n//   constructor(containerId) {\r\n//     this.container = document.getElementById(containerId);\r\n//     this.data = null;\r\n//     this.currentFilters = {};\r\n//\r\n//     // KPI configuration\r\n//     this.kpiConfig = [\r\n//       { key: 'agriculture', label: 'Agriculture' },\r\n//       { key: 'elevage', label: '\u00C9levage' },\r\n//       { key: 'peche', label: 'P\u00EAche' },\r\n//       { key: 'valeur_economique', label: 'Valeur \u00C9co.' },\r\n//       { key: 'regions_actives', label: 'R\u00E9gions' },\r\n//       { key: 'departements_actifs', label: 'D\u00E9partements' }\r\n//     ];\r\n//   }\r\n//\r\n//   /**\r\n//    * Initialize the KPI dashboard\r\n//    */\r\n//   async init() {\r\n//     await this.loadData();\r\n//   }\r\n//\r\n//   /**\r\n//    * Load KPI data from API\r\n//    */\r\n//   async loadData(filters = {}) {\r\n//     try {\r\n//       this.currentFilters = filters;\r\n//       this.data = await api.getKPIs(filters);\r\n//       this.render();\r\n//     } catch (error) {\r\n//       console.error('KPI Dashboard load error:', error);\r\n//       this.renderError();\r\n//     }\r\n//   }\r\n//\r\n//   /**\r\n//    * Update KPIs with new filters\r\n//    */\r\n//   async update(filters = {}) {\r\n//     await this.loadData(filters);\r\n//   }\r\n//\r\n//   /**\r\n//    * Render the KPI dashboard\r\n//    */\r\n//   render() {\r\n//     if (!this.container || !this.data) return;\r\n//\r\n//     this.container.innerHTML = `\r\n//       <div class=\"kpi-dashboard\">\r\n//         ${this.kpiConfig.map(kpi => this.renderKPICard(kpi)).join('')}\r\n//       </div>\r\n//     `;\r\n//   }\r\n//\r\n//   /**\r\n//    * Render a single KPI card\r\n//    */\r\n//   renderKPICard(kpi) {\r\n//     const data = this.data[kpi.key];\r\n//     if (!data) return '';\r\n//\r\n//     const value = formatNumber(data.valeur);\r\n//     const evolutionClass = data.evolution >= 0 ? 'kpi-card__evolution--positive' : 'kpi-card__evolution--negative';\r\n//     const evolutionSign = data.evolution >= 0 ? '+' : '';\r\n//     const evolutionDisplay = data.evolution !== undefined\r\n//       ? `<div class=\"kpi-card__evolution ${evolutionClass}\">${evolutionSign}${data.evolution}%</div>`\r\n//       : '';\r\n//\r\n//     return `\r\n//       <div class=\"kpi-card\">\r\n//         <div class=\"kpi-card__header\">\r\n//           <div class=\"kpi-card__label\">${kpi.label}</div>\r\n//           ${evolutionDisplay}\r\n//         </div>\r\n//         <div class=\"kpi-card__value\">${value}</div>\r\n//       </div>\r\n//     `;\r\n//   }\r\n//\r\n//   /**\r\n//    * Render error state\r\n//    */\r\n//   renderError() {\r\n//     if (!this.container) return;\r\n//\r\n//     this.container.innerHTML = `\r\n//       <div class=\"kpi-dashboard\">\r\n//         <div class=\"text-center text-muted p-4\">\r\n//           Erreur de chargement des indicateurs\r\n//         </div>\r\n//       </div>\r\n//     `;\r\n//   }\r\n//\r\n//   /**\r\n//    * Refresh data\r\n//    */\r\n//   async refresh() {\r\n//     await this.loadData(this.currentFilters);\r\n//   }\r\n//\r\n//   /**\r\n//    * Get current data\r\n//    */\r\n//   getData() {\r\n//     return this.data;\r\n//   }\r\n// }\r\n//\r\n// export default KPIDashboard;\r\n\r\n\r\n/**\r\n * KPI Dashboard Component\r\n * Displays key performance indicators with icons\r\n */\r\n\r\nimport { api } from '../services/api.js';\r\nimport { formatNumber } from '../utils/helpers.js';\r\n\r\nclass KPIDashboard {\r\n  constructor(containerId) {\r\n    this.container = document.getElementById(containerId);\r\n    this.data = null;\r\n    this.currentFilters = {};\r\n\r\n    // KPI configuration with Font Awesome icons\r\n    this.kpiConfig = [\r\n      { key: 'agriculture', label: 'Agriculture', icon: 'fas fa-seedling' },\r\n      { key: 'elevage', label: '\u00C9levage', icon: 'fas fa-cow' },\r\n      { key: 'peche', label: 'P\u00EAche', icon: 'fas fa-fish' },\r\n      { key: 'valeur_economique', label: 'Valeur \u00C9co.', icon: 'fas fa-chart-line' },\r\n      { key: 'regions_actives', label: 'R\u00E9gions', icon: 'fas fa-map-marked-alt' },\r\n      { key: 'departements_actifs', label: 'D\u00E9partements', icon: 'fas fa-layer-group' }\r\n    ];\r\n  }\r\n\r\n  /**\r\n   * Initialize the KPI dashboard\r\n   */\r\n  async init() {\r\n    await this.loadData();\r\n  }\r\n\r\n  /**\r\n   * Load KPI data from API\r\n   */\r\n  async loadData(filters = {}) {\r\n    try {\r\n      this.currentFilters = filters;\r\n      this.data = await api.getKPIs(filters);\r\n      this.render();\r\n    } catch (error) {\r\n      console.error('KPI Dashboard load error:', error);\r\n      this.renderError();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Update KPIs with new filters\r\n   */\r\n  async update(filters = {}) {\r\n    await this.loadData(filters);\r\n  }\r\n\r\n  /**\r\n   * Render the KPI dashboard\r\n   */\r\n  render() {\r\n    if (!this.container || !this.data) return;\r\n\r\n    this.container.innerHTML = `\r\n      <div class=\"kpi-dashboard\">\r\n        ${this.kpiConfig.map(kpi => this.renderKPICard(kpi)).join('')}\r\n      </div>\r\n    `;\r\n  }\r\n\r\n  /**\r\n   * Render a single KPI card\r\n   */\r\n  renderKPICard(kpi) {\r\n    const data = this.data[kpi.key];\r\n    if (!data) return '';\r\n\r\n    const value = formatNumber(data.valeur);\r\n\r\n    return `\r\n      <div class=\"kpi-card\">\r\n        <div class=\"kpi-card__header\">\r\n          <span class=\"kpi-card__label\">${kpi.label}</span>\r\n          <i class=\"${kpi.icon}\"></i>\r\n        </div>\r\n        <div class=\"kpi-card__value\">${value}</div>\r\n      </div>\r\n    `;\r\n  }\r\n\r\n  /**\r\n   * Render error state\r\n   */\r\n  renderError() {\r\n    if (!this.container) return;\r\n\r\n    this.container.innerHTML = `\r\n      <div class=\"kpi-dashboard\">\r\n        <div class=\"text-center text-muted p-4\">\r\n          Erreur de chargement des indicateurs\r\n        </div>\r\n      </div>\r\n    `;\r\n  }\r\n\r\n  /**\r\n   * Refresh data\r\n   */\r\n  async refresh() {\r\n    await this.loadData(this.currentFilters);\r\n  }\r\n\r\n  /**\r\n   * Get current data\r\n   */\r\n  getData() {\r\n    return this.data;\r\n  }\r\n}\r\n\r\nexport default KPIDashboard;", "/**\r\n * Loading Overlay Component\r\n * Displays loading spinner and error messages\r\n */\r\n\r\nclass LoadingOverlay {\r\n  constructor(containerId) {\r\n    this.container = document.getElementById(containerId);\r\n    this.isLoading = false;\r\n    this.hasError = false;\r\n\r\n    // Callbacks\r\n    this.onRetry = null;\r\n  }\r\n\r\n  /**\r\n   * Initialize the loading overlay\r\n   */\r\n  init() {\r\n    this.render();\r\n    this.attachEventListeners();\r\n  }\r\n\r\n  /**\r\n   * Render the loading overlay\r\n   */\r\n  render() {\r\n    if (!this.container) return;\r\n\r\n    this.container.innerHTML = `\r\n      <div class=\"loading-overlay__spinner\"></div>\r\n      <div class=\"loading-overlay__text\" id=\"loading-text\">Chargement des donn\u00E9es...</div>\r\n    `;\r\n\r\n    this.container.classList.add('loading-overlay');\r\n  }\r\n\r\n  /**\r\n   * Attach event listeners\r\n   */\r\n  attachEventListeners() {\r\n    // No events needed for loading overlay\r\n  }\r\n\r\n  /**\r\n   * Show loading overlay\r\n   */\r\n  show(message = 'Chargement des donn\u00E9es...') {\r\n    this.isLoading = true;\r\n    this.hasError = false;\r\n\r\n    const textEl = document.getElementById('loading-text');\r\n    if (textEl) {\r\n      textEl.textContent = message;\r\n    }\r\n\r\n    this.container.classList.add('loading-overlay--active');\r\n  }\r\n\r\n  /**\r\n   * Hide loading overlay\r\n   */\r\n  hide() {\r\n    this.isLoading = false;\r\n    this.container.classList.remove('loading-overlay--active');\r\n  }\r\n\r\n  /**\r\n   * Update loading message\r\n   */\r\n  setMessage(message) {\r\n    const textEl = document.getElementById('loading-text');\r\n    if (textEl) {\r\n      textEl.textContent = message;\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * Error Message Component\r\n * Displays error messages with retry button\r\n */\r\nclass ErrorMessage {\r\n  constructor(containerId) {\r\n    this.container = document.getElementById(containerId);\r\n    this.onRetry = null;\r\n  }\r\n\r\n  /**\r\n   * Initialize the error message\r\n   */\r\n  init() {\r\n    this.render();\r\n    this.attachEventListeners();\r\n  }\r\n\r\n  /**\r\n   * Render the error message\r\n   */\r\n  render() {\r\n    if (!this.container) return;\r\n\r\n    this.container.innerHTML = `\r\n      <p id=\"error-text\">Une erreur s'est produite</p>\r\n      <button class=\"btn btn-primary retry-btn\" id=\"error-retry\">R\u00E9essayer</button>\r\n    `;\r\n\r\n    this.container.classList.add('error-message');\r\n  }\r\n\r\n  /**\r\n   * Attach event listeners\r\n   */\r\n  attachEventListeners() {\r\n    const retryBtn = document.getElementById('error-retry');\r\n    if (retryBtn) {\r\n      retryBtn.addEventListener('click', () => {\r\n        if (this.onRetry) {\r\n          this.onRetry();\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Show error message\r\n   */\r\n  show(message = 'Une erreur s\\'est produite') {\r\n    const textEl = document.getElementById('error-text');\r\n    if (textEl) {\r\n      textEl.textContent = message;\r\n    }\r\n\r\n    this.container.classList.add('error-message--active');\r\n  }\r\n\r\n  /**\r\n   * Hide error message\r\n   */\r\n  hide() {\r\n    this.container.classList.remove('error-message--active');\r\n  }\r\n}\r\n\r\nexport { LoadingOverlay, ErrorMessage };\r\nexport default LoadingOverlay;\r\n"],
  "mappings": "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",
  "names": []
}
